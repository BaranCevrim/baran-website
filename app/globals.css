@tailwind base;
@tailwind components;
@tailwind utilities;

/* =========================
   THEME TOKENS
   ========================= */
:root {
  color-scheme: dark;
  /* surfaces */
  --bg: #0a0a0a;
  --fg: 209 213 219;             /* gray-300 */
  --muted: 148 163 184;          /* slate-400 */
  --card: rgba(255,255,255,0.045);
  --card-2: rgba(255,255,255,0.06);
  --border: rgba(255,255,255,0.12);

  /* accent */
  --accent: 249 115 22;          /* orange-500 */
  --accent-soft: 249 115 22 / .12;

  /* shadows */
  --elev-1: 0 6px 30px rgba(0,0,0,.35);
  --elev-2: 0 10px 40px rgba(0,0,0,.45);
  --ring: 0 0 0 1px rgba(255,255,255,.06);

  /* bg gradient base */
  --bg-start: 0 0 0;
  --bg-end:   0 0 0;
}

@media (prefers-color-scheme: light) {
  :root {
    color-scheme: light;
    --bg: #ffffff;
    --fg: 17 24 39;              /* gray-900 */
    --muted: 71 85 105;          /* slate-600 */
    --card: rgba(0,0,0,0.03);
    --card-2: rgba(0,0,0,0.045);
    --border: rgba(0,0,0,0.08);
    --bg-start: 255 255 255;
    --bg-end:   255 255 255;
    --elev-1: 0 6px 30px rgba(0,0,0,.10);
    --elev-2: 0 10px 40px rgba(0,0,0,.16);
    --ring: 0 0 0 1px rgba(0,0,0,.06);
  }
}

/* High contrast tercihi */
@media (prefers-contrast: more) {
  :root { --border: rgba(255,255,255,.22); }
}

/* =========================
   GLOBAL BASE
   ========================= */
html { scroll-behavior: smooth; }
html, body { height: 100%; }

body{
  color: rgb(var(--fg));
  background: linear-gradient(to bottom, transparent, rgb(var(--bg-end)))
              rgb(var(--bg-start));
  background-color: var(--bg);
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  font-feature-settings: "ss01","cv01","cv02","cv03";
  font-variant-ligatures: contextual common-ligatures;
}

::selection{
  background: rgb(var(--accent) / .25);
  color:#fff;
}

@layer base{
  h1,h2,h3{@apply tracking-tight font-extrabold;}
  h4,h5,h6{@apply tracking-tight font-bold;}
  /* sadece klavye ile gelinen odaklar */
  :focus-visible{@apply outline-none ring-2 ring-orange-500/60 ring-offset-2 ring-offset-black;}
  /* linkler */
  a{@apply transition-colors duration-200;}
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce), (update: slow){
  *{animation: none !important; transition: none !important; scroll-behavior: auto !important;}
}
/* data-reduce-motion (layout.tsx’te setleniyor) */
:root[data-reduce-motion="true"] *{
  animation: none !important; transition: none !important;
}

/* =========================
   BACKGROUND HELPERS
   ========================= */
.bg-grid{
  position:absolute; inset:0;
  background-image:
    linear-gradient(to right, rgba(255,255,255,.06) 1px, transparent 1px),
    linear-gradient(to bottom, rgba(255,255,255,.06) 1px, transparent 1px);
  background-size:56px 56px;
  mask-image: radial-gradient(1200px 600px at 50% 30%, black 60%, transparent 100%);
  pointer-events:none;
}
@media (min-width: 1280px){ .bg-grid{ background-size:48px 48px; } }

.bg-noise{
  position:absolute; inset:-1px;
  background-image:url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='140' height='140' viewBox='0 0 140 140'><filter id='n'><feTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='2' stitchTiles='stitch'/></filter><rect width='100%' height='100%' filter='url(%23n)' opacity='0.032'/></svg>");
  pointer-events:none;
}

.section-divider{
  background: radial-gradient(900px 260px at 50% 0%, rgb(var(--accent) / .18), transparent 60%);
}

/* =========================
   TYPOGRAPHY / PROSE
   (Tailwind Typography eklentisini HTML'de kullan)
   ========================= */
@layer utilities{
  .prose-custom{ @apply max-w-none; } /* genişlik kısıtını kaldır */
  .prose-article :where(h1,h2,h3,h4){ @apply scroll-mt-24; }
  .prose-article a{ @apply text-orange-300 no-underline hover:text-orange-200;}
  .prose-article code{ @apply rounded px-1.5 py-0.5 bg-white/10;}
  .prose-article pre{ @apply rounded-xl bg-black/60 border border-white/10; box-shadow: var(--elev-1); }
  .prose-article img{ @apply rounded-xl border border-white/10; }
}
/* Kullanım: <article className="prose prose-invert prose-custom prose-article">...</article> */

/* =========================
   COMPONENT PRIMITIVES
   ========================= */
@layer components{
  /* Cards */
  .card{
    @apply rounded-2xl border border-white/10 bg-white/5;
    box-shadow: var(--elev-1);
    backdrop-filter: saturate(110%) blur(6px);
  }
  .card-hover{@apply transition; }
  .card-hover:hover{ box-shadow: var(--elev-2); background: var(--card-2); }

  /* Glass surface */
  .glass{
    @apply rounded-2xl border;
    border-color: var(--border);
    background: var(--card);
    box-shadow: var(--elev-1);
    backdrop-filter: blur(8px) saturate(120%);
  }

  /* Chips / badges */
  .badge{
    @apply inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs;
    background: var(--card);
    border-color: var(--border);
    color: rgb(var(--fg) / .9);
  }

  /* Buttons */
  .btn{
    @apply inline-flex items-center justify-center rounded-2xl px-5 py-2.5 font-semibold;
  }
  .btn-primary{
    @apply btn text-white shadow-lg shadow-orange-500/25;
    background: rgb(var(--accent));
  }
  .btn-primary:hover{ filter:brightness(1.05); }
  .btn-ghost{
    @apply btn border;
    border-color: var(--border);
    background: color-mix(in oklab, #000 85%, white 15%);
  }
  .btn-ghost:hover{ background: color-mix(in oklab, #000 80%, white 20%); }

  /* Section wrapper */
  .section{ @apply container mx-auto max-w-7xl px-4 md:px-8; }

  /* Little meta chip */
  .chip{
    @apply inline-flex items-center gap-1.5 rounded-md px-2 py-1 text-[11px] border;
    background: var(--card);
    border-color: var(--border);
    color: rgb(var(--muted));
  }
}

/* =========================
   UTILITIES
   ========================= */
@layer utilities{
  .text-balance{ text-wrap: balance; }
  .text-pretty{ text-wrap: pretty; }
  .ring-subtle{ box-shadow: var(--ring); }
  .shadow-elev-1{ box-shadow: var(--elev-1); }
  .shadow-elev-2{ box-shadow: var(--elev-2); }
  .backdrop-shine{ backdrop-filter: blur(8px) saturate(120%); }
}

/* =========================
   SCROLLBARS (WebKit + Firefox)
   ========================= */
*{
  scrollbar-width: thin;                /* Firefox */
  scrollbar-color: rgba(255,255,255,.18) transparent;
}
*::-webkit-scrollbar{ width:10px; height:10px; }
*::-webkit-scrollbar-thumb{ background: rgba(255,255,255,.18); border-radius:9999px; }
*::-webkit-scrollbar-thumb:hover{ background: rgba(255,255,255,.28); }
*::-webkit-scrollbar-track{ background: transparent; }

/* =========================
   MISC
   ========================= */
@keyframes fadeBlink{ 0%,100%{opacity:.02;} 50%{opacity:.12;} }